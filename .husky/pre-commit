echo 'ğŸ”§ Running pre-commit checks...'

# Run checks in parallel where possible
run_checks() {
  echo 'ğŸ“ Checking Biome formatting...'
  bun run lint || {
    echo 'âŒ Biome check failed. Run `bun run format` to fix formatting issues.'
    exit 1
  }
  echo 'âœ… Biome check passed.'

  echo 'ğŸ› ï¸ Checking TypeScript types...'
  bun run typecheck || {
    echo 'âŒ TypeScript type check failed. Review errors to fix type issues.'
    exit 1
  }
  echo 'âœ… TypeScript type check passed.'

  echo 'ğŸ—ï¸ Building project...'
  bun run build || {
    echo 'âŒ Build failed. Review errors to resolve build issues.'
    exit 1
  }
  echo 'âœ… Build passed.'
}

# Execute checks and capture output
run_checks

echo 'âœ… All checks passed. Proceeding with commit.'